/* RequireJS i18next Plugin v0.4.0 | (c) 2013-2014 Jacob van Mourik | MIT Licensed */
define(["i18next"],function(a){"use strict";var b,c,d={},e=a.functions,f=a.options;return b={version:"0.4.0",pluginBuilder:"./i18next-builder",resourceExists:function(a,b,c){return d[a]&&d[a][b]&&d[a][b][c]},addResource:function(a,b,c,e){d[a]=d[a]||{},d[a][b]=d[a][b]||{},d[a][b][c]=e},getResources:function(a,b){var c={};return e.each(d,function(f){d[f][a]&&d[f][a][b]&&e.extend(c,d[f][a][b])}),c},parseName:function(a){var b=a.split(":");return{module:b[0],namespaces:b[1]?b[1].split(","):[]}},normalize:function(a,c){var d=b.parseName(a),e=d.namespaces,f=d.module;return f+="/"!==f.substr(f.length-1)?"/":"",c(f)+(e?":"+e.join(","):"")},load:function(d,g,h,i){var j,k=e.extend({},i.i18next),l=b.parseName(d),m=l.module,n=k.supportedLngs;n&&n[m]&&(n=n[m]),c||(c=k.ns&&"string"!=typeof k.ns?k.ns.namespaces:[k.ns||f.ns]),j=c.slice(),e.each(l.namespaces,function(a,b){-1==j.indexOf(b)&&j.push(b)}),"string"==typeof f.ns?k.ns={defaultNs:j[0],namespaces:j}:(k.ns=e.extend({},f.ns),e.each(j,function(a,b){-1==k.ns.namespaces.indexOf(b)&&k.ns.namespaces.push(b)})),k.customLoad=function(c,d,f,h){var i=(f.ns.defaultNs,!0);return-1==j.indexOf(d)?i=!1:b.resourceExists(m,c,d)?i=!1:!n||n[c]&&-1!=n[c].indexOf(d)||(e.log("no locale support found for "+c+" with namespace "+d),i=!1),i?(f=e.extend({},f),f.resGetPath=g.toUrl(m+f.resGetPath),void a.sync._fetchOne(c,d,f,function(a,e){b.addResource(m,c,d,e),h(a,b.getResources(c,d))})):void h(null,b.getResources(c,d))},delete k.supportedLngs,a.init(k,function(){h(a)})}}});